<% content_for :title, @season.name %>

<%= tag.div class: "w-full" do %>
  <%= tag.div class: "mb-6" do %>
    <%= link_to "← Back to Seasons", seasons_path, class: "text-blue-600 hover:underline mb-4 inline-block" %>
    <%= tag.h1 @season.name, class: "text-4xl font-bold text-gray-900" %>
    <%= tag.p @season.display_year, class: "text-xl text-gray-600 mt-2" %>
  <% end %>

  <%= tag.div class: "grid grid-cols-1 lg:grid-cols-2 gap-8" do %>
    <%= tag.div class: "bg-white border border-gray-200 rounded-lg p-6 shadow-sm" do %>
      <%= tag.h2 "Season Information", class: "text-2xl font-semibold text-gray-900 mb-4" %>
      
      <%= tag.div class: "grid grid-cols-1 md:grid-cols-2 gap-4" do %>
        <%= tag.div do %>
          <%= tag.dt "League", class: "font-medium text-gray-700" %>
          <%= tag.dd @season.league.name, class: "text-gray-900 text-lg" %>
        <% end %>
        
        <%= tag.div do %>
          <%= tag.dt "Year", class: "font-medium text-gray-700" %>
          <%= tag.dd @season.year.number.to_s, class: "text-gray-900 text-lg" %>
        <% end %>
        
        <%= tag.div do %>
          <%= tag.dt "Status", class: "font-medium text-gray-700" %>
          <%= tag.dd @season.status.humanize, class: "text-gray-900 text-lg" %>
        <% end %>
        
        <% if @season.season_duration %>
          <%= tag.div do %>
            <%= tag.dt "Season Duration", class: "font-medium text-gray-700" %>
            <%= tag.dd "#{@season.season_duration} days", class: "text-gray-600" %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>

    <%= tag.div class: "bg-white border border-gray-200 rounded-lg p-6 shadow-sm" do %>
      <%= tag.h2 "Important Dates", class: "text-2xl font-semibold text-gray-900 mb-4" %>
      
      <%= tag.div class: "space-y-3" do %>
        <% if @season.start_date %>
          <%= tag.div do %>
            <%= tag.dt "Season Start", class: "font-medium text-gray-700" %>
            <%= tag.dd @season.start_date.strftime('%B %d, %Y'), class: "text-gray-600" %>
          <% end %>
        <% end %>
        
        <% if @season.end_date %>
          <%= tag.div do %>
            <%= tag.dt "Season End", class: "font-medium text-gray-700" %>
            <%= tag.dd @season.end_date.strftime('%B %d, %Y'), class: "text-gray-600" %>
          <% end %>
        <% end %>
        
        <% if @season.playoff_start_date %>
          <%= tag.div do %>
            <%= tag.dt "Playoffs Start", class: "font-medium text-gray-700" %>
            <%= tag.dd @season.playoff_start_date.strftime('%B %d, %Y'), class: "text-gray-600" %>
          <% end %>
        <% end %>
        
        <% if @season.playoff_end_date %>
          <%= tag.div do %>
            <%= tag.dt "Playoffs End", class: "font-medium text-gray-700" %>
            <%= tag.dd @season.playoff_end_date.strftime('%B %d, %Y'), class: "text-gray-600" %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <% if @season.comments.any? %>
    <%= tag.div class: "bg-white border border-gray-200 rounded-lg p-6 shadow-sm mt-8" do %>
      <%= tag.h3 "Comments", class: "text-lg font-medium text-gray-900 mb-4" %>
      <%= tag.ul class: "space-y-2" do %>
        <% @season.comments.each do |comment| %>
          <%= tag.li comment, class: "text-gray-600 border-l-4 border-blue-200 pl-4" %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <% if @season.seed_version.present? %>
    <%= tag.div class: "bg-gray-50 border border-gray-200 rounded-lg p-6 mt-8" do %>
      <%= tag.h3 "Seed Information", class: "text-lg font-medium text-gray-900 mb-2" %>
      <%= tag.div class: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm" do %>
        <%= tag.div do %>
          <%= tag.dt "Seed Version", class: "font-medium text-gray-700" %>
          <%= tag.dd @season.seed_version, class: "text-gray-600" %>
        <% end %>
        <% if @season.last_seeded_at %>
          <%= tag.div do %>
            <%= tag.dt "Last Seeded", class: "font-medium text-gray-700" %>
            <%= tag.dd time_ago_in_words(@season.last_seeded_at) + " ago", class: "text-gray-600" %>
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
