<% content_for :title, "Showing quest" %>

<div class="md:w-2/3 w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <h1 class="font-bold text-4xl">Showing quest</h1>

  <%= render @quest %>

  <div class="mt-8">
    <h2 class="font-semibold text-2xl mb-4">Achievements in this Quest</h2>
    <% if @quest.achievements.any? %>
      <ul class="divide-y divide-gray-200 bg-white rounded-lg shadow">
        <% @quest.achievements.each do |achievement| %>
          <li class="p-4 hover:bg-gray-50 flex flex-col sm:flex-row sm:items-center justify-between">
            <div>
              <div class="font-bold text-lg text-gray-900">
                <%= link_to achievement.name, achievement_path(achievement), class: "hover:underline" %>
              </div>
              <div class="text-gray-500 mt-1"><%= achievement.description %></div>
            </div>
            <div class="mt-2 sm:mt-0">
              <span class="inline-block px-2 py-1 text-xs bg-gray-100 rounded text-gray-700">
                Target: <%= link_to_name achievement.target %> (<%= achievement.target_type %>)
              </span>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-gray-500">No achievements added yet.</p>
      <%= link_to "Add Achievement", new_quest_achievement_path(@quest), class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
    <% end %>
  </div>
</div>
