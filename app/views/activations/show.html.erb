<% content_for :title, "Activation ##{@activation.id}" %>

<div class="activation-show-container">
  <div class="activation-header">
    <h1 class="text-3xl font-bold mb-4">Activation #<%= @activation.id %></h1>
    
    <%= render_filtered_breadcrumb(@filtered_breadcrumb) if @filtered_breadcrumb %>
  </div>

  <div class="activation-details grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="activation-basic-info">
      <h2 class="text-xl font-semibold mb-3">Activation Information</h2>
      
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Contract:</span>
          <span class="value">
            <%= link_to "Contract ##{@activation.contract.id}", contract_path(@activation.contract), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">Player:</span>
          <span class="value">
            <%= link_to @activation.player.name, player_path(@activation.player), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">Team:</span>
          <span class="value">
            <%= link_to @activation.team.name, team_path(@activation.team), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">Campaign:</span>
          <span class="value">
            <%= link_to campaign_path(@activation.campaign), 
                class: "text-blue-600 hover:text-blue-800" do %>
              <%= @activation.campaign.team.name %> - <%= @activation.campaign.season.year %>
            <% end %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">Start Date:</span>
          <span class="value"><%= @activation.start_date&.strftime("%B %d, %Y") || "Not specified" %></span>
        </div>
        
        <div class="info-item">
          <span class="label">End Date:</span>
          <span class="value"><%= @activation.end_date&.strftime("%B %d, %Y") || "Not specified" %></span>
        </div>
      </div>
    </div>

    <div class="activation-context">
      <h2 class="text-xl font-semibold mb-3">Context Information</h2>
      
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Season:</span>
          <span class="value">
            <%= link_to @activation.campaign.season.year, season_path(@activation.campaign.season), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">League:</span>
          <span class="value">
            <%= link_to @activation.campaign.season.league.name, league_path(@activation.campaign.season.league), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <div class="info-item">
          <span class="label">Sport:</span>
          <span class="value">
            <%= link_to @activation.campaign.season.league.sport.name, sport_path(@activation.campaign.season.league.sport), 
                class: "text-blue-600 hover:text-blue-800" %>
          </span>
        </div>
        
        <% if @activation.contract.total_dollar_value %>
          <div class="info-item">
            <span class="label">Contract Value:</span>
            <span class="value">$<%= number_with_delimiter(@activation.contract.total_dollar_value.to_i) %></span>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <% if @activation.details.present? %>
    <div class="activation-details-section mt-6">
      <h2 class="text-xl font-semibold mb-3">Additional Details</h2>
      <div class="details-content bg-gray-50 p-4 rounded">
        <pre class="whitespace-pre-wrap"><%= JSON.pretty_generate(@activation.details) %></pre>
      </div>
    </div>
  <% end %>

  <div class="activation-actions mt-6">
    <%= link_to "Edit Activation", edit_activation_path(@activation), 
        class: "btn btn-primary" %>
    <%= link_to "Back to Activations", activations_path, 
        class: "btn btn-secondary" %>
  </div>
</div>