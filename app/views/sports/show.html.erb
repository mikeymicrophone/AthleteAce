<%= tag.header @sport.name, class: "sport-name" %>

<%= tag.div class: "leagues" do %>
  <%= pluralize @sport.leagues.count, "League" %>
  <% @sport.leagues.each do |league| %>
    <%= tag.div id: dom_id(league), class: "league" do %>
      <%= tag.header display_name_with_lazy_logo(league), class: "league-name" %>
      <%= display_name_with_lazy_logo league.jurisdiction, logo_attribute: :flag_url %>
      <%= render_collection(league.conferences) %>
      <%= render_collection(league.divisions) %>
      <%= render_teams_collection(league.teams, parent: league, link_to_collection: true, title: "team") %>
      <%= render_players_collection(league.players, parent: league, link_to_collection: true, title: "player") %>
    <% end %>
  <% end %>
<% end %>
